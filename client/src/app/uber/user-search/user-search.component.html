<app-page-header [heading]="'Profile'" [icon]="'fa-user'">
</app-page-header>

<md-progress-spinner class="spinner-position" mode="indeterminate" *ngIf="isLoading">
</md-progress-spinner>

<span [hidden]="isLoading"> 

<md-toolbar color="accent">
	User List
</md-toolbar>

<md-card class="user-search-card datatable-card">
	<smd-datatable [models]="userList" [paginated]="true" [paginatorRanges]="[10, 25, 50, 100]" [responsive]="responsive">

		<smd-datatable-header [enableFilter]="true" filterLabel="Filter" class="row">
			<smd-datatable-action-button (onClick)="addSample($event)" label="Add"></smd-datatable-action-button>
			<smd-datatable-contextual-button (onClick)="editSample($event)" icon="edit" [minimunSelected]="1" [maxSelected]="1" mdTooltip="Edit the selected element"></smd-datatable-contextual-button>
			<smd-datatable-contextual-button (onClick)="removeSample($event)" icon="delete" [minimunSelected]="1" mdTooltip="Delete the element"></smd-datatable-contextual-button>
			<smd-datatable-contextual-button icon="filter_list" mdTooltip="Open a dialog for filtering?"></smd-datatable-contextual-button>
		</smd-datatable-header>

		<smd-datatable-column title="Id" field="id" sortable="true" numeric="true" titleTooltip="The identifier"></smd-datatable-column>

		<smd-datatable-column title="Name" field="username" sortable="true" titleTooltip="User first name"></smd-datatable-column>

		<smd-datatable-column title="Surname" field="email" sortable="true" titleTooltip="Email Id"></smd-datatable-column>

		<smd-datatable-column title="Birth Date" field="dateOfBirth" sortable="true" [sortFn]="_sortByBirthDate" [filterFn]="_filterByBirthDate">
			<template let-model="data">
				{{model.dateOfBirth | date:'dd/MM/yyyy'}}
			</template>
		</smd-datatable-column>

		<smd-datatable-column title="Phone Number" field="phoneNumber" titleTooltip="User Phone Number">
			<template let-model="data">
				<md-icon>{{model.phoneNumber}}</md-icon>
			</template>
		</smd-datatable-column>

		<smd-datatable-column title="Comment" field="comment" titleTooltip="User comment" editable="true" editablePlaceholder="Add a comment"
			(onFieldChange)="fieldChanged($event)"></smd-datatable-column>
	</smd-datatable>
</md-card>

</span>
