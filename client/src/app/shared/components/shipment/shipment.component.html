<md-progress-spinner class="spinner-position" mode="indeterminate" *ngIf="isLoading">
</md-progress-spinner>

<form name="saveItemDialog" #shipmentCreateForm="ngForm" novalidate>
	<fieldset class="form">

		<div id="list-shipment" class="content scaffold-list" role="main" [hidden]="isLoading">
			<ul class="errors list-group" role="alert" *ngIf="errors">
				<li *ngFor="let error of errors" class="list-group-item list-group-item-danger">{{error.message}}</li>
			</ul>

			<!-- Page Content -->

			<div class="card text-center">
				<div class="card-header">
					<h4 class="card-title">Shipment - {{shipment.shipmentId}}</h4>
				</div>

				<ul class="list-group list-group-flush">
					<li class="list-group-item">
						<div class="card-block">

							<div class="row">
								<div class="col align-self-end">
									<md-select required="" name="client" id="client" [(ngModel)]="clientName" placeholder="Select Client" floatPlaceholder="never"
										class="form-full-width">
										<md-option *ngFor="let clt of clientList" [value]="clt.id">
											{{clt.name}}
										</md-option>
										</md-select>

								</div>
								<div class="col align-self-start">
									<button md-raised-button class="btn btn-primary" routerLink="/clients" skipLocationChange>Add Client</button>
								</div>
							</div>

						</div>
					</li>
					<li class="list-group-item" *ngIf="clientName">
						<div class="card-block">
							<md-card-content>
								<md-radio-button name="shipment.type" (click)="shipment.type = 'FTL'">Full Truckload</md-radio-button>
								<md-radio-button name="shipment.type" (click)="shipment.type = 'LTL'">Less Than Truckload</md-radio-button>
								<md-radio-button name="shipment.type" (click)="shipment.type = 'INT'">International</md-radio-button>
							</md-card-content>
						</div>
					</li>

					<li class="list-group-item" *ngIf="shipment.type==='FTL'">
						<div class="card-block">
							<div class="row">
								<div class="col-sm">
									<div> Do you need trailer ?</div> Yes
									<md-slide-toggle name="isTrailerNeeded" (change)="ownTrailer()">
										No, I have own trailer. </md-slide-toggle>
								</div>
								<div class="col-sm">
									<div>Trailer Type</div>
									<md-select required name="trailerType" id="trailerType" [(ngModel)]="trailerType" placeholder="Select Trailer Type" floatPlaceholder="never"
										class="form-full-width">
										<md-option *ngFor="let ins of trailerTypes" [value]="ins">
											{{ins}}
										</md-option>
										</md-select>
								</div>
								<div class="col-sm" *ngIf="!this.shipment.load.isTrailerReady">
									<div>Trailer Size Required</div>
									<div>
										<md-radio-button name="trailerSizeType" (click)="shipment.load.trailerSize = 'FULL'" [checked]="true">Full Size Trailer</md-radio-button>
										<md-radio-button name="trailerSizeType" (click)="shipment.load.trailerSize = 'HALF'">Partial Size Trailer</md-radio-button>
									</div>
								</div>
								<div class="col-sm" *ngIf="this.shipment.load.isTrailerReady">
									<div>
										<md-input-container class="form-full-width">
											<input required="" name="trailerWeight" id="trailerWeight" [(ngModel)]="shipment.load.trailerWeight" type="text" mdInput
												placeholder="Trailer Weight" #tWeight="ngModel" />
											<md-error *ngIf="tWeight.hasError('required')">This field is required</md-error>
											<md-hint align="end"><span>LBS <md-slide-toggle  [(ngModel)]="shipment.load.trailerWeightType" [ngModelOptions]="{standalone: true}"> KGS</md-slide-toggle></span></md-hint>
										</md-input-container>
									</div>
								</div>
							</div>

						</div>
					</li>
					<li class="list-group-item" [hidden]="this.shipment.load.isTrailerReady || this.shipment.type===undefined">
						<div class="card-block">
							<div class="row">
								<div class="col-sm" *ngIf="shipment.type==='LTL'">
									<md-checkbox [(ngModel)]="shipment.load.isHazardous" name="isHazardous">Shipment is Hazardous Materials</md-checkbox>
								</div>
								<div class="col-sm" *ngIf="shipment.type==='LTL'">
									<md-checkbox [(ngModel)]="shipment.load.isStackable" name="isStackable">These items are Non Stackable</md-checkbox>
								</div>
								<div class="col-sm">
									<md-checkbox [(ngModel)]="shipment.load.needForkLift" name="needForkLift">Shipment Needs Fork Lift</md-checkbox>
								</div>
								<div class="col-sm">
									<md-checkbox [(ngModel)]="shipment.load.needHelp" name="needHelp">These items need help for lifting</md-checkbox>
								</div>
							</div>
						</div>
					</li>
				</ul>
			</div>
			<!-- Page Content -->

		</div>
	</fieldset>

	<fieldset class="buttons button-pos" *ngIf="clientName">
		<hr>
		<button md-raised-button [hidden]="!shipment.type" class="btn btn-primary" (click)="saveShipment()" [disabled]="!shipmentCreateForm.valid || !shipmentCreateForm.dirty">{{create ? "Create" : "Update"}} Shipment</button>
	</fieldset>
</form>
